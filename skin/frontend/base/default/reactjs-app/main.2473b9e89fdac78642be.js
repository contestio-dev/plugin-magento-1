(()=>{"use strict";var e,t,a,r={2376:(e,t,a)=>{var r=a(96540),n=a(5338),l=a(84976),s=a(47767),o=a(64721),c=a(85902),i=a(34164),m=a(50856);function d(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,m.QP)((0,i.$)(t))}var u=a(53110),p=a(71083);const f="/index.php/contestio/api/proxy?endpoint=",g=async e=>await p.A.get(f+e),h=async(e,t,a)=>await p.A.post(f+e,t,{headers:a}),x=(0,r.createContext)(void 0);function b(e){let{children:t}=e;const a=(0,s.Zp)(),{pathname:n}=(0,s.zy)(),[l,o]=(0,r.useState)({primary:"234 85% 73%",secondary:"46 91% 75%"}),[c,i]=(0,r.useState)(!0),[m,d]=(0,r.useState)([]),[p,f]=(0,r.useState)(null),[h,b]=(0,r.useState)(!0),[E,v]=(0,r.useState)([]),[w,y]=(0,r.useState)(!0),[N,j]=(0,r.useState)(null),[k,O]=(0,r.useState)(!0),[C,S]=(0,r.useState)(null);(0,r.useEffect)((()=>{"/error"!==n&&P()}),[]);const P=async()=>{try{const{data:e}=await g("v1/org/header");d(e.buttons||[]),S(e.banner);const t=e.colors?.colors,a=t?.primary.replace(/hsl\(|\)|,/g,"").replace(/\s+/g," ").trim(),r=t?.secondary.replace(/hsl\(|\)|,/g,"").replace(/\s+/g," ").trim();a&&r&&o({primary:a,secondary:r}),O(!1);const n=e.user||null,l=null!==n.pseudo&&n.pseudo?.length>0;if(!Object.values(n).every((e=>null===e||""===e))&&l)f(n);else{const{data:e}=await g("me");f(e)}}catch(e){e instanceof u.pe&&(console.error(e),401===e.response?.status?a("/error?auth=true"):a("/error"))}finally{i(!1)}};return(0,r.useEffect)((()=>{p?.pseudo&&(document.cookie="contestio_oauth=; max-age=0")}),[p?.pseudo]),r.createElement(x.Provider,{value:{colors:l,user:p,setUser:f,appLoading:c,navButtons:m,homepageLoading:h,homepageContent:E,setHomepageLoading:b,setHomepageContent:v,contestsLoading:w,contestsContent:N,setContestsLoading:y,setContestsContent:j,banner:C,bannerLoading:k}},t)}function E(){const e=(0,r.useContext)(x);if(void 0===e)throw new Error("useAppContext doit √™tre utilis√© √† l'int√©rieur d'un AppProvider");return e}var v=a(33362),w=a(80097);function y(){return y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},y.apply(null,arguments)}const N=(0,w.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-white hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/80 active:bg-destructive/60",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-black hover:bg-secondary/80",ghost:"text-primary text-md font-medium hover:bg-primary/10","ghost-destructive":"text-destructive text-md font-medium hover:bg-destructive/10",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),j=r.forwardRef(((e,t)=>{let{className:a,variant:n,size:l,asChild:s=!1,...o}=e;const c=s?v.DX:"button";return r.createElement(c,y({className:d(N({variant:n,size:l,className:a})),ref:t},o))}));function k(){return k=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},k.apply(null,arguments)}function O(e){let{className:t,...a}=e;return r.createElement("div",k({className:d("animate-pulse rounded-md bg-muted",t)},a))}j.displayName="Button";var C=a(35847);function S(){return S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},S.apply(null,arguments)}const P=r.forwardRef(((e,t)=>{let{className:a,...n}=e;return r.createElement(C.bL,S({ref:t,className:d("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",a)},n))}));P.displayName=C.bL.displayName;const R=r.forwardRef(((e,t)=>{let{className:a,...n}=e;return r.createElement(C._V,S({ref:t,className:d("aspect-square h-full w-full",a)},n))}));R.displayName=C._V.displayName;const _=r.forwardRef(((e,t)=>{let{className:a,...n}=e;return r.createElement(C.H4,S({ref:t,className:d("flex h-full w-full items-center justify-center rounded-full bg-muted",a)},n))}));_.displayName=C.H4.displayName;var A=a(3881);function L(){return L=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},L.apply(null,arguments)}const z=A.Kq,U=A.bL,I=A.l9,M=r.forwardRef(((e,t)=>{let{className:a,sideOffset:n=4,...l}=e;return r.createElement(A.UC,L({ref:t,sideOffset:n,className:d("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a)},l))}));function $(){return function(e){const[t,a]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{const r=window.matchMedia(e);r.matches!==t&&a(r.matches);const n=()=>a(r.matches);return r.addListener(n),()=>r.removeListener(n)}),[t,e]),t}("(max-width: 768px)")}M.displayName=A.UC.displayName;const F=function(){const e=$(),t=(0,s.Zp)(),{appLoading:a,user:n,banner:l,navButtons:o,bannerLoading:c}=E(),i=window.location.pathname.split("/").pop(),m="/"===i||""===i||"contestio"===i,u="contests"===i,p="surveys"===i,f="news"===i;return r.createElement("header",{className:"w-full flex flex-col"},r.createElement("div",{className:d("relative flex flex-col gap-5 h-80 w-full bg-cover bg-center"),style:{backgroundImage:l?.presignedUrl||l?.mobilePresignedUrl?`url(${e&&l.mobilePresignedUrl?l.mobilePresignedUrl:l.presignedUrl})`:"none"}},c&&r.createElement(r.Fragment,null,r.createElement("div",{className:"bg-gradient-to-br from-black/10 to-black/30 w-full h-full"}),r.createElement("div",{className:"absolute text-2xl text-left md:text-4xl top-4 left-4 w-2/4 md:w-1/4 drop-shadow-md"},r.createElement(O,{className:"h-[20px] md:h-[30px] w-[180px] md:w-[230px] rounded-xl mb-1"}),r.createElement(O,{className:"h-[20px] md:h-[30px] w-[180px] md:w-[230px] rounded-xl"})),r.createElement("div",{className:"absolute bottom-8 left-0 right-0 w-full px-8 text-left drop-shadow-md"},r.createElement(O,{className:"h-[20px] w-[100%] rounded-xl mb-1"}),r.createElement(O,{className:"h-[20px] w-[230px] rounded-xl"}))),!c&&l?.showText&&r.createElement(r.Fragment,null,r.createElement("div",{className:"bg-gradient-to-b from-black/10 to-black/70 md:to-black/50 w-full h-full"}),r.createElement("h1",{className:"text-white text-3xl text-left md:text-[2.5em] leading-tight font-bold absolute top-4 left-4 w-3/4 md:w-2/5 drop-shadow-md whitespace-normal"},l.title),r.createElement("p",{className:"text-white text-md font-semibold absolute bottom-4 md:bottom-8 left-4 right-4 px-2 md:px-8 text-left drop-shadow-md"},l.description))),r.createElement("nav",{className:"flex justify-between items-center gap-2 md:gap-5 border-b border-gray-200 px-4 md:px-16 shadow-md overflow-x-auto no-scrollbar"},r.createElement("div",{className:"flex items-center gap-5 pt-4"},0===o.length&&a?r.createElement(r.Fragment,null,r.createElement(O,{className:"h-[20px] w-[100px] rounded-xl mb-4"}),r.createElement(O,{className:"h-[20px] w-[100px] rounded-xl mb-4"})):o.map((e=>(e=>{const a="contest"===e.navUrl?u:"survey"===e.navUrl?p:"news"===e.navUrl?f:m;return r.createElement(j,{key:e.slug,id:e.slug,onClick:()=>{return a=e.navUrl||"",void t("contest"===a?"/contests":"survey"===a?"/surveys":"news"===a?"/news":"/");var a},className:d("bg-white text-primary font-bold border-0 rounded-none border-b-2 pb-5 border-transparent","hover:border-primary/50 hover:bg-white hover:text-primary/70","active:border-primary/80 active:text-primary/80",a&&"border-primary hover:border-primary hover:bg-white hover:text-primary")},e.text)})(e)))),n&&n.pseudo&&r.createElement(U,null,r.createElement(I,{asChild:!0},r.createElement(j,{variant:"ghost",onClick:()=>t("/profile"),className:d("flex justify-end items-center gap-2 border border-border/70 bg-white rounded-md ml-5 px-2 py-1 drop-shadow","cursor-pointer hover:border-border hover:drop-shadow-lg hover:bg-white transition-all duration-300")},r.createElement("span",{className:"text-md font-normal text-primary"},n.pseudo),r.createElement(P,{className:"w-7 h-7"},r.createElement(R,{src:n.avatar}),r.createElement(_,{className:"text-muted-foreground font-medium text-sm bg-secondary"},(n.firstName+" "+n.pseudo).split(" ").filter((e=>""!==e)).map((e=>e[0])).join(""))))),r.createElement(M,{className:"bg-white text-black"},r.createElement("p",null,"Voir mon profil")))))};function T(){return T=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},T.apply(null,arguments)}const V=function(e){return r.createElement("a",T({},e,{className:d("text-muted-foreground border-b border-b-transparent no-underline","hover:no-underline hover:border-b-primary hover:text-primary transition-all duration-300",e.className)}))},q="0.1.0",D=function(){const e=`https://contestio.fr/report-bug?url=${window.location.href}&version=${q}`;return r.createElement("footer",{className:"w-full my-0 flex justify-center md:justify-end items-center"},r.createElement("div",{className:"flex items-center gap-2 text-sm text-muted-foreground"},r.createElement(V,{href:e,target:"_blank"},"Signaler un bug"),r.createElement("span",{className:"border-b border-b-transparent"},"-"),r.createElement("span",{className:"font-light border-b border-b-transparent"},"Powered by"),r.createElement(V,{href:"https://contestio.fr",target:"_blank"},"Contestio"),r.createElement("img",{src:"/skin/frontend/base/default/reactjs-app/images/logo.png",alt:"Contestio",height:20,width:20})))};var B=a(14476),H=a(49785),Z=a(9013),J=a(59353),K=a(70893),W=a(25191),Y=a(60990),Q=a(24082);const G=e=>{let{icon:t,filledRed:a,fill:n,className:l}=e;const s=(0,Q.A)(t);return r.createElement("span",{dangerouslySetInnerHTML:{__html:s.outerHTML},className:d("[&_svg]:w-full [&_svg]:h-full",a?"[&_svg]:fill-red-500":n&&`[&_svg]:fill-${n}`,l)})};function X(){return X=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},X.apply(null,arguments)}const ee=e=>{let{children:t,...a}=e;const[n,l]=r.useState(a.open||!1);return r.createElement(Y.bL,X({modal:!0,open:n,onOpenChange:e=>{l(e),a.onOpenChange?.(e)}},a),t)},te=Y.l9,ae=e=>{let{children:t,...a}=e;const n=document.getElementById("contestio-layout");return r.createElement(Y.ZL,X({},a,{container:n}),t)},re=(Y.bm,r.forwardRef(((e,t)=>{let{className:a,children:n,...l}=e;return r.createElement(ae,null,r.createElement("div",{className:"absolute inset-0 w-full z-50 bg-white/75 backdrop-blur animate-fade-in"}),r.createElement(Y.UC,X({ref:t,className:d("contestioModal fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg max-h-[63vh] overflow-auto translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-10 drop-shadow duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-xl",a)},l),n,r.createElement(Y.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground"},G({icon:W.A,className:"size-4"}),r.createElement("span",{className:"sr-only"},"Close"))))})));re.displayName=Y.UC.displayName;const ne=e=>{let{className:t,...a}=e;return r.createElement("div",X({className:d("flex flex-col space-y-1.5 text-center sm:text-left",t)},a))};ne.displayName="DialogHeader";const le=e=>{let{className:t,...a}=e;return r.createElement("div",X({className:d("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t)},a))};le.displayName="DialogFooter";const se=r.forwardRef(((e,t)=>{let{className:a,...n}=e;return r.createElement(Y.hE,X({ref:t,className:d("text-lg font-semibold leading-none tracking-tight",a)},n))}));se.displayName=Y.hE.displayName;const oe=r.forwardRef(((e,t)=>{let{className:a,...n}=e;return r.createElement(Y.VY,X({ref:t,className:d("text-sm text-muted-foreground",a)},n))}));oe.displayName=Y.VY.displayName;var ce=a(97248),ie=a(40961);function me(){return me=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},me.apply(null,arguments)}const de=e=>{let{shouldScaleBackground:t=!0,...a}=e;return r.createElement(ce._s.Root,me({shouldScaleBackground:t},a))};de.displayName="Drawer";const ue=ce._s.Trigger,pe=e=>{let{children:t}=e;const[a,n]=r.useState(!1);return r.useEffect((()=>(n(!0),()=>n(!1))),[]),a?ie.createPortal(t,document.getElementById("root")):null},fe=(ce._s.Close,r.forwardRef(((e,t)=>{let{className:a,...n}=e;return r.createElement(ce._s.Overlay,me({ref:t,className:d("fixed inset-0 z-50 bg-black/80",a)},n))})));fe.displayName=ce._s.Overlay.displayName;const ge=r.forwardRef(((e,t)=>{let{className:a,children:n,...l}=e;return r.createElement(pe,null,r.createElement(fe,null),r.createElement(ce._s.Content,me({ref:t,className:d("fixed inset-x-0 bottom-0 px-4 z-50 mt-24 mx-auto flex h-auto flex-col rounded-t-[10px] border bg-background !max-w-full",a)},l),r.createElement("div",{className:"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted"}),n))}));ge.displayName="DrawerContent";const he=e=>{let{className:t,...a}=e;return r.createElement("div",me({className:d("grid gap-1.5 p-4 mb-2 text-center sm:text-left",t)},a))};he.displayName="DrawerHeader";const xe=e=>{let{className:t,...a}=e;return r.createElement("div",me({className:d("mt-2 flex flex-col gap-2 p-4",t)},a))};xe.displayName="DrawerFooter";const be=r.forwardRef(((e,t)=>{let{className:a,...n}=e;return r.createElement(ce._s.Title,me({ref:t,className:d("text-lg font-semibold leading-none tracking-tight",a)},n))}));function Ee(){return Ee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Ee.apply(null,arguments)}be.displayName=ce._s.Title.displayName,r.forwardRef(((e,t)=>{let{className:a,...n}=e;return r.createElement(ce._s.Description,me({ref:t,className:d("text-sm text-muted-foreground",a)},n))})).displayName=ce._s.Description.displayName;const ve=e=>{let{children:t,...a}=e;return $()?r.createElement(de,a,t):r.createElement(ee,a,t)};ve.displayName="Modal";const we=r.forwardRef(((e,t)=>{let{children:a,...n}=e;const l=$()?ue:te;return r.createElement(l,{asChild:!0},r.createElement(j,Ee({ref:t},n),a))}));we.displayName="ModalTrigger",r.forwardRef(((e,t)=>{let{children:a,...n}=e;const l=$()?ue:te;return r.createElement(l,Ee({asChild:!0,ref:t},n),a)})).displayName="ModalTriggerDiv";const ye=e=>{let{children:t,...a}=e;return $()?r.createElement(ge,a,t):r.createElement(re,a,t)};ye.displayName="ModalContent";const Ne=e=>{let{children:t,...a}=e;return $()?r.createElement(he,a,t):r.createElement(ne,a,t)};Ne.displayName="ModalHeader";const je=e=>{let{children:t,...a}=e;return $()?r.createElement(xe,a,t):r.createElement(le,a,t)};je.displayName="ModalFooter";const ke=r.forwardRef(((e,t)=>{let{className:a,...n}=e;return $()?r.createElement(be,Ee({ref:t,className:d("text-lg font-semibold",a)},n)):r.createElement(se,Ee({ref:t,className:d("text-lg font-semibold",a)},n))}));ke.displayName="ModalTitle";const Oe=r.forwardRef(((e,t)=>{let{className:a,...n}=e;return r.createElement(oe,Ee({ref:t,className:d("text-sm text-muted-foreground",a)},n))}));function Ce(){return Ce=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Ce.apply(null,arguments)}Oe.displayName=oe.displayName;const Se=r.forwardRef(((e,t)=>{let{className:a,type:n,...l}=e;return r.createElement("input",Ce({type:n,className:d("flex h-10 !w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/20 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 accent-primary",a),ref:t},l))}));Se.displayName="Input";var Pe=a(95920);function Re(){return Re=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Re.apply(null,arguments)}const _e=(0,w.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ae=r.forwardRef(((e,t)=>{let{className:a,...n}=e;return r.createElement(Pe.b,Re({ref:t,className:d(_e(),a)},n))}));Ae.displayName=Pe.b.displayName;var Le=a(28710),ze=a(65550);function Ue(){return Ue=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Ue.apply(null,arguments)}const Ie=(0,r.forwardRef)(((e,t)=>{let{className:a,...n}=e;const[l,s]=(0,r.useState)(!1);return r.createElement("div",{className:"relative flex items-center"},r.createElement(Se,Ue({type:l?"text":"password",className:d("hide-password-toggle pr-10",a),ref:t},n)),r.createElement(j,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-[0] h-full px-3 py-2 hover:bg-transparent",onClick:()=>s((e=>!e))},G({icon:l?Le.A:ze.A,className:"h-4 w-4"})),r.createElement("style",null,"\n\t\t\t\t\t.hide-password-toggle::-ms-reveal,\n\t\t\t\t\t.hide-password-toggle::-ms-clear {\n\t\t\t\t\t\tvisibility: hidden;\n\t\t\t\t\t\tpointer-events: none;\n\t\t\t\t\t\tdisplay: none;\n\t\t\t\t\t}\n          "))}));function Me(){return Me=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Me.apply(null,arguments)}Ie.displayName="PasswordInput";const $e=B.z.object({email:B.z.string().email({message:"Email invalide"}).min(1,{message:"L'email est requis"}).max(255,{message:"L'email doit contenir moins de 255 caract√®res"}),password:B.z.string().min(1,{message:"Le mot de passe est requis"}).max(255,{message:"Le mot de passe doit contenir moins de 255 caract√®res"})});function Fe(e){let{open:t,setOpen:a}=e;const[n,l]=(0,r.useState)(!1),{register:s,getValues:c,handleSubmit:i,formState:{errors:m}}=(0,H.mN)({resolver:(0,K.u)($e)});return(0,r.useEffect)((()=>{console.log(document.cookie),t&&(document.cookie.includes("contestio_oauth"),document.cookie="contestio_oauth=true; max-age=3600000")}),[t]),r.createElement(ve,{open:t,onOpenChange:a},r.createElement(ye,{className:"md:max-w-sm"},r.createElement(Ne,null,r.createElement(ke,null,"Connexion"),r.createElement(Oe,null,"Connectez-vous √† votre compte pour acc√©der √† toutes les fonctionnalit√©s de Contestio.")),r.createElement("form",{onSubmit:i((async()=>{const e=new FormData;e.append("username",c("email")),e.append("password",c("password"));try{l(!0);const{data:t}=await(async e=>await p.A.post("/index.php/contestio/login/post/",e))(e);t.success?(o.oR.success("Connexion en cours..."),window.location.reload()):(l(!1),o.oR.error(t.message||"Une erreur est survenue"))}catch(e){console.error(e),l(!1),o.oR.error("Erreur lors de la connexion")}})),className:"w-full flex flex-col gap-5"},r.createElement("div",{className:"w-full max-w-sm items-center gap-1.5 mb-2"},r.createElement(Ae,{htmlFor:"email"},"Email"),r.createElement(Se,Me({type:"email",id:"email",placeholder:"Email",maxLength:256},s("email"))),m.email&&r.createElement("span",{className:"text-sm text-destructive"},m.email.message)),r.createElement("div",{className:"w-full max-w-sm items-center gap-1.5"},r.createElement("div",{className:"w-full flex justify-between"},r.createElement(Ae,{htmlFor:"password"},"Mot de passe"),r.createElement(V,{href:"/index.php/customer/account/forgotpassword/",className:"text-sm text-muted-foreground"},"Mot de passe oubli√© ?")),r.createElement(Ie,Me({className:"w-full",placeholder:"Mot de passe",maxLength:256},s("password"))),m.password&&r.createElement("span",{className:"text-sm text-destructive"},m.password.message)),r.createElement(je,{className:"mt-2 flex !flex-col gap-5 justify-center"},r.createElement(j,{type:"submit",disabled:n,className:"w-fit mx-auto flex items-center gap-2"},"Se connecter",G({icon:n?Z.A:J.A,className:"w-4 h-4 "+(n?"animate-spin":"")})),r.createElement("p",{className:"text-center text-sm text-muted-foreground"},"Je n'ai pas de compte ?"," ",r.createElement(V,{href:`/index.php/customer/account/create/?redirect=${encodeURIComponent(window.location.href)}`,className:"text-primary"},"Cr√©er un compte"))))))}var Te=a(35942),Ve=a(24750);function qe(){return qe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},qe.apply(null,arguments)}const De=B.z.object({pseudo:B.z.string().min(2,{message:"Le pseudo doit contenir au moins 2 caract√®res."}).max(12,{message:"Le pseudo doit contenir moins de 12 caract√®res."}).regex(/^[a-zA-Z0-9_]+$/,{message:"Le pseudo ne peut contenir que des lettres, des chiffres et des underscores."})});function Be(e){let{open:t,setOpen:a}=e;const[n,l]=(0,r.useState)(""),[s,c]=(0,r.useState)(!1),[i,m]=(0,r.useState)(!1),{user:p,setUser:f}=E(),{register:g,handleSubmit:x,formState:{errors:b},setError:v}=(0,H.mN)({resolver:(0,K.u)(De)});return r.createElement(ve,{open:t,onOpenChange:a},r.createElement(ye,{className:"md:max-w-sm"},!0===i&&r.createElement("div",{className:"absolute top-0 left-0 w-full h-10 flex items-center justify-center"},r.createElement(Ve.A,{zIndex:50})),r.createElement(Ne,null,r.createElement(ke,null,"Hey ",p?.firstName," üëã"),r.createElement(Oe,null,r.createElement(U,null,r.createElement(I,{asChild:!0},r.createElement("p",{className:""},"Avant de continuer, pourriez-vous nous donner"," ",r.createElement("span",{className:"text-muted-foreground italic"},"votre pseudo")," ","?")),r.createElement(M,{className:"bg-white text-black",side:"bottom"},r.createElement("div",{className:"flex flex-col gap-2 max-w-[300px]"},r.createElement("p",{className:"font-semibold"},"R√®gles de cr√©ation de pseudo :"),r.createElement("p",null,"Il doit √™tre unique et ne peut contenir que des lettres, des chiffres et des underscores et doit contenir entre 2 et 12 caract√®res.")))))),!1===i?r.createElement("form",{onSubmit:x((async()=>{if(p&&p.id)if(p.pseudo)o.oR.error("Vous avez d√©j√† un pseudo.");else try{c(!0);const e=document.cookie.includes("contestio_oauth");await h("pseudo",{pseudo:n,isFromContestio:e}),f({...p,pseudo:n}),o.oR.success(`Bienvenue ${n} !`,{description:"Votre pseudo a bien √©t√© enregistr√©."}),c(!1),m(!0)}catch(e){if(c(!1),e instanceof u.pe)return void o.oR.error(e.response?.data?.message||"Une erreur est survenue lors de la modification de votre pseudo");console.error(e),o.oR.error("Une erreur est survenue lors de la modification de votre pseudo")}else o.oR.error("Une erreur est survenue lors de la r√©cup√©ration de vos informations")})),className:"flex flex-col gap-2"},r.createElement("div",{className:"mt-3 w-full max-w-sm items-center"},r.createElement(Se,qe({type:"text",id:"pseudo",autoComplete:"off",placeholder:"Votre pseudo",maxLength:12,disabled:s,className:d("border-2 border-primary/50 text-primary font-medium text-center text-lg !h-10","placeholder:text-primary/50",!!b.pseudo?.message&&"border-destructive",s&&"bg-primary/20")},g("pseudo"),{onChange:e=>{(e=>{l(e.target.value),v("pseudo",{message:""})})(e),g("pseudo").onChange(e)}})),r.createElement("div",{className:"w-full flex justify-end items-center"},r.createElement("span",{className:"text-sm text-muted-foreground"},n?.length," / 12")),b.pseudo&&r.createElement("div",{className:"w-full text-center mt-1"},r.createElement("span",{className:"text-sm text-destructive font-semibold"},b.pseudo.message))),r.createElement(je,{className:"mt-2 flex !flex-col gap-5 justify-center"},r.createElement(j,{type:"submit",disabled:s,className:"w-fit mx-auto flex items-center gap-2 p-4 text-md rounded-full"},"Valider",G({icon:s?Z.A:Te.A,className:"w-5 h-5 "+(s?"animate-spin":"")})),r.createElement("p",{className:"text-sm text-muted-foreground text-center"},"Il sera utilis√© pour vous identifier lors de vos participations aux concours et sondages."))):r.createElement("div",{className:"flex flex-col gap-2 items-center"},r.createElement("p",{className:"text-lg font-semibold"},"Bienvenue",r.createElement("span",{className:"text-primary font-semibold ml-1"},p?.pseudo)," ","!"),r.createElement("p",{className:"mt-2 text-muted-foreground text-center"},"Vous pouvez d√©sormais participer √† nos concours et sondages."),r.createElement(je,{className:"mt-2"},r.createElement(j,{onClick:()=>a(!1),variant:"outline",className:"w-fit "},"Fermer")))))}const He=(0,r.createContext)({isLoginOpen:!1,setIsLoginOpen:()=>{}}),Ze=()=>(0,r.useContext)(He),Je=e=>{let{children:t}=e;const[a,n]=(0,r.useState)(!1);return r.createElement(He.Provider,{value:{isLoginOpen:a,setIsLoginOpen:n}},t)},Ke=(0,r.createContext)({isPseudoOpen:!1,setIsPseudoOpen:()=>{}}),We=()=>(0,r.useContext)(Ke),Ye=e=>{let{children:t}=e;const[a,n]=(0,r.useState)(!1);return r.createElement(Ke.Provider,{value:{isPseudoOpen:a,setIsPseudoOpen:n}},t)},Qe=function(){const{isLoginOpen:e,setIsLoginOpen:t}=Ze(),{isPseudoOpen:a,setIsPseudoOpen:n}=We(),{colors:l}=E(),{pathname:o}=(0,s.zy)();return r.createElement("div",{className:d("bg-white md:border md:border-border/60 md:shadow-md md:rounded-2xl md:overflow-hidden relative","w-full md:w-[94%] max-w-[1120px] my-6 mx-auto box-border")},r.createElement(c.mg,null,r.createElement("meta",{name:"viewport",content:"width=device-width, user-scalable=no"})),r.createElement("style",null,`\n          :root {\n            --primary: ${l?.primary};\n            --secondary: ${l?.secondary};\n          }\n        `),r.createElement("div",{id:"contestio-layout",className:"relative w-full overflow-hidden"},"/error"!==o&&r.createElement(F,null),r.createElement("div",{className:d("py-5 px-4 md:px-16 w-full")},r.createElement("main",{className:"w-full my-4"},r.createElement(s.sv,null),r.createElement(Fe,{open:e,setOpen:t}),r.createElement(Be,{open:a,setOpen:n})),r.createElement(D,null))))};var Ge=a(27933);function Xe(){return Xe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Xe.apply(null,arguments)}const et=r.forwardRef(((e,t)=>{let{className:a,orientation:n="horizontal",decorative:l=!0,...s}=e;return r.createElement(Ge.b,Xe({ref:t,decorative:l,orientation:n,className:d("shrink-0 bg-border","horizontal"===n?"h-[1px] w-full":"h-full w-[1px]",a)},s))}));function tt(e){let{withoutButton:t=!1,withoutImage:a=!1,addSeperator:n=!1,addTitle:l=!1}=e;return r.createElement(r.Fragment,null,r.createElement("div",{className:d("w-full h-64 grid grid-cols-12 auto-rows-auto gap-4 items-center bg-white")},r.createElement("div",{className:d("h-full col-span-8",a&&"col-span-12")},l&&r.createElement(O,{className:"w-56 h-10 mb-5"}),r.createElement(O,{className:"w-full h-full"}),!t&&r.createElement(O,{className:"w-44 h-12 mt-4"})),!a&&r.createElement("div",{className:"h-full col-span-4"},r.createElement(O,{className:"m-auto w-5/6 h-4/5 rounded-xl shadow-md"}))),n&&r.createElement("div",{className:"col-span-12 w-3/5 mx-auto"},r.createElement(et,{className:"my-0 w-full"})))}et.displayName=Ge.b.displayName;const at=function(){const{navButtons:e}=E(),t=(0,s.Zp)();return(0,r.useEffect)((()=>{var a;e.length>0&&(a=e[0].navUrl,t("contest"===a?"/contests":"survey"===a?"/surveys":"/"))}),[e]),r.createElement("div",{className:"w-full flex flex-col gap-20 my-10 mb-20"},r.createElement(tt,{addSeperator:!0,withoutButton:!0}),r.createElement(tt,null),r.createElement(tt,null),r.createElement(tt,null))},rt=function(e){let{variant:t="default",className:a="",onClick:n,text:l,id:s,isActive:o=!1,disabled:c=!1}=e;return r.createElement(j,{id:s,variant:t,onClick:n,disabled:c,className:d("text-white bg-primary border-2 border-primary rounded-lg shadow-md transition-all duration-300 text-center font-bold","hover:scale-95 hover:shadow-lg hover:bg-primary/90","active:bg-primary/70 active:shadow-sm",o&&"bg-primary/50 text-muted-foreground hover:scale-100",a)},l)},nt=function(e){let{datas:t,onClick:a,className:n,isActive:l=!1,variant:s="default",disabled:o=!1}=e;return r.createElement(r.Fragment,null,r.createElement("style",null,t.styles&&`#${t.slug} { ${t.styles} }`,t.hover&&`#${t.slug}:hover { ${t.hover} }`,t.focus&&`#${t.slug}:active { ${t.focus} }`),r.createElement(rt,{id:t.slug,text:t.text,onClick:a,className:n,isActive:l,disabled:o,variant:s}))};function lt(e){let{type:t,description:a,presignedUrl:n,button:l,className:s,title:o,onClick:c,badge:i,textSm:m}=e;return r.createElement(r.Fragment,null,r.createElement("div",{className:d("w-full h-auto grid grid-cols-12 auto-rows-auto gap-4 items-center bg-white",s)},m&&r.createElement("p",{className:"col-span-12 w-full text-sm text-muted-foreground italic"},m),r.createElement("div",{className:d(n?"col-span-8":"col-span-12")},o&&r.createElement("div",{className:"mb-2 flex items-center gap-4"},r.createElement("h2",{className:"text-xl md:text-3xl font-bold"},o),i&&r.createElement("span",{className:"bg-primary w-fit text-white px-4 py-1 rounded-full text-md font-bold"},i)),r.createElement("div",{dangerouslySetInnerHTML:{__html:a},className:d("[&_p]:min-h-6","[&_a]:text-blue-500 [&_a]:underline","[&_ul]:list-disc [&_ul]:pl-10 [&_ul]:space-y-2","[&_ol]:list-decimal [&_ol]:pl-10 [&_ol]:space-y-2","[&_li]:min-h-6","[&_h2]:text-2xl [&_h2]:font-semibold [&_h2]:mb-1","[&_h3]:text-lg [&_h3]:font-semibold [&_h3]:mb-2","[&_strong]:font-bold","[&_em]:italic","[&_span]:font-medium")}),l&&r.createElement(nt,{datas:l,className:"mt-4",onClick:()=>c?.(),disabled:l.disabled})),n&&r.createElement("div",{className:"col-span-4"},r.createElement("img",{src:n,alt:"",className:"mx-auto w-5/6 h-auto object-cover rounded-xl shadow-md"}))),("homepage_header"===t||"banner"===t)&&r.createElement("div",{className:"col-span-12 w-3/5 mx-auto"},r.createElement(et,{className:"my-0 w-full"})))}function st(){return r.createElement("div",{className:"flex flex-col items-center justify-center h-full min-h-56 border rounded-xl p-4 mb-5 shadow-md"},r.createElement("h1",{className:"text-2xl font-bold"},"Aucune actualit√© trouv√©e"),r.createElement("p",{className:"text-sm text-gray-500"},"D√©sol√©, aucune actualit√© n'est disponible pour le moment."))}function ot(){return ot=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},ot.apply(null,arguments)}const ct=function(){const[e,t]=(0,r.useState)(!0),[a,n]=(0,r.useState)([]);(0,r.useEffect)((()=>{l()}),[]);const l=async()=>{try{const{data:e}=await g("v1/org/homepage");n(e.filter((e=>"homepage_other"===e.type)))}catch(e){console.error("Erreur de fetch:",e)}finally{t(!1)}};return e?r.createElement("section",{className:"flex flex-col items-center justify-center my-10 py-10 "},r.createElement(tt,{withoutImage:!0})):r.createElement("section",{className:"flex flex-col items-center justify-center"},0===a.length?r.createElement(st,null):a.map(((e,t)=>{return r.createElement(lt,ot({key:t},e,{button:e.buttonParticipate,textSm:`Publi√©e le ${a=e.createdAt,new Date(a).toLocaleDateString("fr-FR",{day:"2-digit",month:"long",year:"numeric"})}`,className:"my-5 border border-border p-7 rounded-xl shadow-lg"}));var a})))};function it(){const{search:e}=(0,s.zy)(),t=e.includes("auth=true"),a=`https://contestio.fr/report-bug?url=${window.location.href}&version=${q}`;return r.createElement("div",{className:"mx-auto my-10 max-w-xl flex flex-col items-center justify-center p-5 border border-border/60 rounded-2xl shadow-md"},r.createElement("h2",{className:"text-xl font-bold mb-1"},t?"Erreur de connexion":"Erreur du serveur"),r.createElement("p",{className:"text-sm text-muted-foreground text-center"},t?"Les cl√©s d'authentification ne sont pas valides. Veuillez contacter le support.":"Une erreur est survenue lors du chargement de la page."),r.createElement(V,{href:a,target:"_blank",className:"mt-4 text-blue-500"},"Signaler l'erreur"),r.createElement(V,{href:"/",className:"mt-4"},"Retourner √† l'accueil"))}function mt(){return r.createElement("div",{className:"flex flex-col items-center justify-center h-full min-h-56 border rounded-xl p-4 mb-5 shadow-md"},r.createElement("h1",{className:"text-2xl font-bold"},"Aucun sondage trouv√©"),r.createElement("p",{className:"text-sm text-gray-500"},"D√©sol√©, aucun sondage n'est disponible pour le moment."))}var dt=a(72750),ut=a(78719);function pt(){return pt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},pt.apply(null,arguments)}const ft=r.forwardRef(((e,t)=>{let{className:a,...n}=e;return r.createElement("textarea",pt({className:d("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:t},n))}));function gt(){return gt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},gt.apply(null,arguments)}function ht(e){let{survey:t,setSurvey:a,isOpen:n,setIsOpen:l}=e;const[s,c]=(0,r.useState)(!0),[i,m]=(0,r.useState)(!1),[d,p]=(0,r.useState)([]),[f,x]=(0,r.useState)(0),{reset:b,watch:E,handleSubmit:v,register:w,setError:y,formState:{errors:N}}=(0,H.mN)();(0,r.useEffect)((()=>{n?k():(c(!1),b())}),[n]);const k=async()=>{try{const{data:e}=await g(`v1/surveys/${t._id}`);p(e.questions),x(0)}catch(e){if(e instanceof u.pe)return o.oR.error(e.response?.data.message||"Une erreur est survenue"),void(404!==e.response?.status&&400!==e.response?.status||l(!1));o.oR.error("Une erreur est survenue"),console.error(e)}finally{c(!1)}},C=e=>{const t=E(e);return!(!t||""===t)||(y(d[f]?._id,{message:"Vous devez r√©pondre √† cette question"}),!1)};return r.createElement("form",{className:"flex flex-col items-center gap-2 py-2",onSubmit:v((async e=>{if(s)return;const r=d.map((t=>({questionId:t._id,answerId:"open"===t.type?null:t.options.find((a=>a.text===e[t._id]))?._id,answer:e[t._id]})));m(!0);try{await h(`v1/surveys/${t._id}`,{answers:r}),a?.({...t,alreadyParticipated:!0}),o.oR.success("Merci !",{description:"Votre participation a √©t√© enregistr√©e."}),l(!1)}catch(e){e instanceof u.pe?o.oR.error(e.response?.data.message||"Une erreur est survenue"):(console.error(e),o.oR.error("Une erreur est survenue lors de la participation."))}finally{m(!1)}}))},r.createElement("div",{className:"w-full flex flex-col items-left gap-2 border p-4 rounded-xl"},s?r.createElement("div",{className:"w-full py-10 flex items-center justify-center"},G({icon:Z.A,className:"w-5 h-5 animate-spin"})):r.createElement("div",null,r.createElement("h2",{className:"text-black text-lg !font-medium mb-2"},d[f]?.text),r.createElement("div",{className:"flex flex-col gap-2"},"open"===d[f]?.type?r.createElement(r.Fragment,null,r.createElement(ft,gt({className:"min-h-10 h-10 max-h-32",placeholder:"Votre r√©ponse"},w(d[f]?._id,{required:"Votre r√©ponse est requise",maxLength:200}))),r.createElement("p",{className:"text-sm text-muted-foreground ml-auto"},E(d[f]?._id)?.length||0," / 200")):d[f]?.options.map((e=>r.createElement("div",{key:e._id,className:"w-full flex items-center gap-2"},r.createElement(Se,gt({type:"radio",id:e._id,value:e.text},w(d[f]?._id,{required:!0}),{className:"!w-4 h-4"})),r.createElement("label",{htmlFor:e._id,className:"w-full hover:bg-primary/10 p-1 rounded-md transition-all duration-300"},e.text)))),N[d[f]?._id]&&r.createElement("p",{className:"w-full text-center font-semibold text-sm text-red-500"},N[d[f]?._id]?.message)))),r.createElement("footer",{className:"mt-5 w-full flex justify-between items-center"},r.createElement(j,{variant:"outline",className:"gap-2",disabled:s||!f,onClick:e=>{e.preventDefault(),0!==f&&x(f-1)}},G({icon:dt.A,className:"w-5 h-5"}),"Pr√©c√©dent"),s?r.createElement(O,{className:"w-10 h-4"}):r.createElement("p",{className:"text-sm text-muted-foreground"},f+1," / ",d.length),f===d.length-1?r.createElement(j,{type:"submit",className:"gap-2",disabled:s||i,onClick:e=>{C(d[f]?._id)||e.preventDefault()}},"Valider",G({icon:i?Z.A:ut.A,className:"w-5 h-5 "+(i?"animate-spin":"")})):r.createElement(j,{type:"button",className:"gap-2",disabled:s,onClick:e=>{e.preventDefault(),C(d[f]?._id)&&f!==d.length-1&&x(f+1)}},"Suivant",G({icon:J.A,className:"w-5 h-5"}))))}ft.displayName="Textarea";const xt=()=>{const{user:e}=E(),{setIsLoginOpen:t}=Ze(),{setIsPseudoOpen:a}=We();return()=>e&&e.firstName?e&&!e.pseudo?(a(!0),!0):!e||!e.pseudo:(t(!0),!0)};function bt(){return bt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},bt.apply(null,arguments)}const Et=function(){const e=xt(),[t,a]=(0,r.useState)(!0),[n,l]=(0,r.useState)(!1),[s,o]=(0,r.useState)([]),[c,i]=(0,r.useState)(null);(0,r.useEffect)((()=>{m()}),[]);const m=async()=>{try{const{data:e}=await g("v1/surveys");o(e.filter((e=>"survey"===e.type)))}catch(e){console.error("Erreur de fetch:",e)}finally{a(!1)}};return t?r.createElement("section",{className:"w-full flex flex-col items-start justify-center"},r.createElement("div",{className:"w-full my-5 border border-border p-7 rounded-xl shadow-lg"},r.createElement(O,{className:"h-[40px] w-[60%] rounded-xl mb-2"}),r.createElement(O,{className:"h-[20px] w-[100%] rounded-xl"}),r.createElement(O,{className:"h-[35px] w-[50%] rounded-xl mt-2"})),r.createElement("div",{className:"w-full my-5 border border-border p-7 rounded-xl shadow-lg"},r.createElement(O,{className:"h-[40px] w-[60%] rounded-xl mb-2"}),r.createElement(O,{className:"h-[20px] w-[100%] rounded-xl"}),r.createElement(O,{className:"h-[35px] w-[50%] rounded-xl mt-2"}))):r.createElement("section",{className:"flex flex-col items-center justify-center"},0===s.length?r.createElement(mt,null):s.map((t=>r.createElement(lt,bt({key:t._id,title:t.name},t,{button:{...t.buttonParticipate,text:t.alreadyParticipated?"D√©j√† particip√©":t.buttonParticipate.text||"Je participe",disabled:!!t.alreadyParticipated},onClick:()=>{e()||(i(t),l(!0))},className:"my-5 border border-border p-7 rounded-xl shadow-none drop-shadow",badge:t.alreadyParticipated?"R√©pondu":void 0})))),r.createElement(ve,{open:n,onOpenChange:l},r.createElement(ye,{className:"md:max-w-xl"},r.createElement(Ne,null,r.createElement(ke,null,c?.name||"Sondage"),r.createElement(Oe,{className:"hidden"},c?.description||"Aucune description")),c?r.createElement(ht,{survey:c,isOpen:n,setIsOpen:l,setSurvey:e=>{o(s.map((t=>t._id===e._id?e:t)))}}):r.createElement("p",null,"Ce sondage n'existe pas."))))};function vt(){return vt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},vt.apply(null,arguments)}const wt=B.z.object({pseudo:B.z.string().min(2,{message:"Le pseudo doit contenir au moins 2 caract√®res."}).max(12,{message:"Le pseudo doit contenir moins de 12 caract√®res."}).regex(/^[a-zA-Z0-9_]+$/,{message:"Le pseudo ne peut contenir que des lettres, des chiffres et des underscores."})}),yt=function(){const{user:e,setUser:t}=E(),[a,n]=(0,r.useState)(!1),{watch:l,register:s,setValue:c,handleSubmit:i,formState:{errors:m}}=(0,H.mN)({resolver:(0,K.u)(wt),defaultValues:{pseudo:e?.pseudo||""}}),p=l("pseudo");return(0,r.useEffect)((()=>{c("pseudo",e?.pseudo||"")}),[e?.pseudo]),r.createElement("section",{className:"flex flex-col items-center justify-center my-10"},r.createElement("form",{onSubmit:i((async()=>{try{n(!0),await h("pseudo",{pseudo:p}),t({...e,pseudo:p}),o.oR.success(`Bienvenue ${p} !`,{description:"Votre pseudo a bien √©t√© modifi√©."})}catch(e){e instanceof u.pe?o.oR.error(e?.response?.data?.message||"Une erreur est survenue lors de la modification de votre pseudo"):o.oR.error("Une erreur est survenue lors de la modification de votre pseudo")}finally{n(!1)}})),className:"flex flex-col gap-2 p-4 border border-border bg-white drop-shadow rounded-xl max-w-sm"},r.createElement("p",{className:"text-lg font-semibold"},"Modifier votre pseudo"),r.createElement("p",{className:"text-sm text-muted-foreground"},"Votre pseudo est unique et ne peut contenir que des lettres, des chiffres et des underscores."),r.createElement("div",{className:"mt-3 w-full max-w-sm items-center"},r.createElement(Se,vt({type:"text",id:"pseudo",autoComplete:"off",placeholder:"Votre pseudo",maxLength:12,disabled:a,className:d("border-2 border-primary/50 text-primary font-medium text-center text-lg !h-10","placeholder:text-primary/50",!!m.pseudo?.message&&"border-destructive",a&&"bg-primary/20")},s("pseudo"))),r.createElement("div",{className:"w-full flex justify-end items-center"},r.createElement("span",{className:"text-sm text-muted-foreground"},p?.length," / 12")),m.pseudo&&r.createElement("div",{className:"w-full text-center mt-1"},r.createElement("span",{className:"text-sm text-destructive font-semibold"},m.pseudo.message))),r.createElement("footer",{className:"mt-2 flex !flex-col gap-5 justify-center"},r.createElement(j,{type:"submit",disabled:a,className:"w-fit mx-auto flex items-center gap-2 p-4 text-md rounded-full"},"Valider",G({icon:a?Z.A:Te.A,className:"w-5 h-5 "+(a?"animate-spin":"")})))))};function Nt(){return r.createElement("div",{className:"flex flex-col items-center justify-center h-full min-h-56 border rounded-xl p-4 mb-5 shadow-md"},r.createElement("h1",{className:"text-2xl font-bold"},"Aucun concours trouv√©"),r.createElement("p",{className:"text-sm text-gray-500"},"D√©sol√©, aucun concours n'a √©t√© trouv√© pour le moment."))}var jt=a(5204);function kt(){return kt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},kt.apply(null,arguments)}const Ot=r.forwardRef(((e,t)=>{let{className:a,...n}=e;return r.createElement("div",kt({ref:t,className:d("rounded-lg border bg-card text-card-foreground shadow-sm",a)},n))}));Ot.displayName="Card",r.forwardRef(((e,t)=>{let{className:a,...n}=e;return r.createElement("div",kt({ref:t,className:d("flex flex-col space-y-1.5 p-6",a)},n))})).displayName="CardHeader",r.forwardRef(((e,t)=>{let{className:a,...n}=e;return r.createElement("h3",kt({ref:t,className:d("text-2xl font-semibold leading-none tracking-tight",a)},n))})).displayName="CardTitle",r.forwardRef(((e,t)=>{let{className:a,...n}=e;return r.createElement("p",kt({ref:t,className:d("text-sm text-muted-foreground",a)},n))})).displayName="CardDescription";const Ct=r.forwardRef(((e,t)=>{let{className:a,...n}=e;return r.createElement("div",kt({ref:t,className:d("p-3 md:p-6 pt-0 md:pt-0",a)},n))}));Ct.displayName="CardContent";const St=r.forwardRef(((e,t)=>{let{className:a,...n}=e;return r.createElement("div",kt({ref:t,className:d("flex items-center p-3 md:p-6 pt-0 md:pt-0",a)},n))}));function Pt(){return r.createElement(r.Fragment,null,r.createElement("span",null),r.createElement(Ot,{className:d("border-border/30 shadow-lg overflow-hidden","hover:shadow-2xl hover:border-border transition-all duration-300")},r.createElement(Ct,{className:"pt-5 relative"},r.createElement("div",{className:"overflow-hidden rounded-xl"},r.createElement("img",{src:"/skin/frontend/base/default/reactjs-app/images/podium.svg",alt:"No participants",className:d("w-full h-auto aspect-square rounded-xl shadow object-contain","transition-transform duration-300 hover:scale-110")}))),r.createElement(St,{className:"flex flex-col gap-0"},r.createElement("div",{className:"w-full flex flex-row gap-5 justify-between items-center"},r.createElement("p",{className:"font-medium text-md"},"Aucune participation trouv√©e !")),r.createElement("p",{className:"w-full font-medium text-md text-muted-foreground"},"Soyez le premier √† participer √† ce concours !")),r.createElement("span",null)))}St.displayName="CardFooter";var Rt=a(12851),_t=a(69047),At=a(14320);function Lt(e){let{loading:t,sort:a,sortBy:n,setSort:l,setSortBy:s,changeSort:o}=e;const[c,i]=(0,r.useState)(!1),[m,d]=(0,r.useState)(a.current||"asc"),[u,p]=(0,r.useState)(n.current||"likes");return r.createElement(ve,{open:c,onOpenChange:i},t?r.createElement(O,{className:"w-[130px] h-10"}):r.createElement(we,{variant:"ghost",className:"gap-2",disabled:t},"Trier par",G({icon:_t.A,className:"w-4 h-4 md:w-5 md:h-5"})),r.createElement(ye,{className:"md:max-w-sm"},r.createElement(Ne,null,r.createElement(ke,null,"Trier par"),r.createElement(Oe,null,"Vous pouvez trier les participants par popularit√© ou par date de participation.")),r.createElement("div",{className:"flex flex-col gap-4 "},r.createElement("div",{className:"flex items-center gap-2"},r.createElement(Se,{type:"radio",id:"populars",name:"sortBy",value:"populars",className:"!w-4 h-4",defaultChecked:"likes"===n.current&&"desc"===a.current,onChange:()=>{p("likes"),d("desc")}}),r.createElement("label",{htmlFor:"populars",className:"flex items-center gap-2"},"Les plus populaires",G({icon:At.A,className:"w-5 h-5"}))),r.createElement("div",{className:"flex items-center gap-2"},r.createElement(Se,{type:"radio",id:"unpopulars",name:"sortBy",value:"unpopulars",className:"!w-4 h-4",defaultChecked:"likes"===n.current&&"asc"===a.current,onChange:()=>{p("likes"),d("asc")}}),r.createElement("label",{htmlFor:"unpopulars"},"Les moins populaires")),r.createElement("div",{className:"flex items-center gap-2"},r.createElement(Se,{type:"radio",id:"recents",name:"sortBy",value:"recents",className:"!w-4 h-4",defaultChecked:"createdAt"===n.current&&"desc"===a.current,onChange:()=>{p("createdAt"),d("desc")}}),r.createElement("label",{htmlFor:"recents",className:"flex items-center gap-2"},"Les plus r√©cents")),r.createElement("div",{className:"flex items-center gap-2"},r.createElement(Se,{type:"radio",id:"oldest",name:"sortBy",value:"oldest",className:"!w-4 h-4",defaultChecked:"createdAt"===n.current&&"asc"===a.current,onChange:()=>{p("createdAt"),d("asc")}}),r.createElement("label",{htmlFor:"oldest"},"Les plus anciens"))),r.createElement(je,null,r.createElement(j,{onClick:()=>{l(m),s(u),i(!1),o()},type:"button"},"Valider"))))}function zt(e){let{loading:t,participations:a,totalParticipations:n,search:l,setSearch:s,changeSort:o,sort:c,sortBy:i,setSort:m,setSortBy:d,resetSearch:u}=e;const p=(0,r.useRef)(0),f=(0,r.useRef)(null),g=(0,r.useRef)("");return(0,r.useEffect)((()=>{const e=Date.now();p.current=e,f.current&&clearTimeout(f.current),f.current=setTimeout((()=>{e===p.current&&l!==g.current&&(g.current=l,o())}),800)}),[l,o]),r.createElement("div",{className:"w-full flex flex-col md:flex-row justify-between items-center gap-2 md:gap-5 my-3 md:my-10"},t&&0===a.length?r.createElement(O,{className:"hidden md:block w-40 h-10 rounded-xl"}):r.createElement("p",{className:"hidden md:block font-medium text-md text-muted-foreground"},n," participation",n>1&&"s"),r.createElement("div",{className:"mx-auto flex w-full md:w-2/5 items-center space-x-2 h-9 md:h-10"},t&&0===a.length?r.createElement(O,{className:"w-full h-full"}):r.createElement("div",{className:"relative w-full h-full"},r.createElement(Se,{type:"text",placeholder:"Rechercher un participant",className:"min-h-9 md:min-h-10 !h-full",value:l||"",maxLength:30,onChange:e=>s(e.target.value)}),l&&l.length>0&&r.createElement(j,{type:"button",variant:"link",className:"h-full aspect-square absolute right-0 top-0",onClick:u},G({icon:W.A,className:"w-4 h-4 md:w-5 md:h-5"}))),r.createElement(j,{type:"submit",className:"m-2 h-full w-auto aspect-square bg-primary hover:bg-primary/90",disabled:t,onClick:o},G({icon:t?Z.A:Rt.A,className:"w-5 h-5 "+(t?"animate-spin":"")}))),r.createElement("div",{className:"w-full md:w-fit flex flex-row justify-between items-center gap-2 md:gap-0"},t&&0===a.length?r.createElement(O,{className:"md:hidden w-32 h-6 rounded-xl"}):r.createElement("p",{className:"md:hidden w-full font-medium text-md text-muted-foreground"},n," participation",n>1&&"s"),r.createElement(Lt,{loading:t&&0===a.length,sort:c,sortBy:i,setSort:m,setSortBy:d,changeSort:o})))}function Ut(){return r.createElement(Ot,{className:d("border-border/30 shadow-lg cursor-pointer","hover:shadow-2xl hover:border-border transition-all duration-300")},r.createElement(Ct,{className:"!pt-5"},r.createElement(O,{className:"w-full h-auto aspect-square rounded-xl"})),r.createElement(St,{className:"flex flex-col gap-2"},r.createElement("div",{className:"w-full flex flex-row gap-5 justify-between items-center"},r.createElement(O,{className:"w-44 h-5 rounded-xl"}),r.createElement(O,{className:"w-12 h-6 rounded-xl"})),r.createElement(O,{className:"w-full h-5 rounded-xl"})))}function It(){return r.createElement(r.Fragment,null,r.createElement("span",null),r.createElement(Ot,{className:d("border-border/30 shadow-lg overflow-hidden","hover:shadow-2xl hover:border-border transition-all duration-300")},r.createElement(Ct,{className:"pt-5 relative"},r.createElement("div",{className:"overflow-hidden rounded-xl"},r.createElement("img",{src:"/skin/frontend/base/default/reactjs-app/images/notFound.svg",alt:"Not found",className:d("w-full h-auto aspect-square rounded-xl shadow","transition-transform duration-300 hover:scale-110")}))),r.createElement(St,{className:"flex flex-col gap-0"},r.createElement("div",{className:"w-full flex flex-row gap-5 justify-between items-center"},r.createElement("p",{className:"font-medium text-md"},"Aucun utilisateur trouv√© !")),r.createElement("p",{className:"w-full font-medium text-md text-muted-foreground"},"V√©rifiez que le pseudo est correct et essayez de nouveau...")),r.createElement("span",null)))}var Mt=a(22869);function $t(e){let{onFileChange:t}=e;return $()?r.createElement("div",{className:"w-full flex justify-center"},r.createElement("label",{htmlFor:"file-upload-mobile",className:"mt-2 inline-block bg-blue-500 text-white px-4 py-2 rounded cursor-pointer hover:bg-blue-600 transition-colors"},"Choisir une image"),r.createElement("input",{id:"file-upload-mobile",type:"file",accept:"image/*",onChange:e=>{const a=e.target.files?.[0];a&&t(a)},className:"hidden"})):r.createElement("div",{className:"mt-3 mb-5 border-2 border-dashed border-gray-300 rounded-lg p-8 text-center cursor-pointer hover:border-gray-400 transition-colors",onDrop:e=>{e.preventDefault();const a=e.dataTransfer.files[0];a&&a.type.startsWith("image/")&&t(a)},onDragOver:e=>{e.preventDefault(),e.currentTarget.classList.add("border-blue-500","bg-blue-50")},onDragLeave:e=>{e.currentTarget.classList.remove("border-blue-500","bg-blue-50")}},r.createElement("p",{className:"text-gray-500 mb-2"},"Glissez et d√©posez votre image ici"),r.createElement("p",{className:"text-sm text-gray-400"},"ou"),r.createElement("label",{htmlFor:"file-upload",className:"mt-2 inline-block bg-blue-500 text-white px-4 py-2 rounded cursor-pointer hover:bg-blue-600 transition-colors"},"S√©lectionnez un fichier"),r.createElement("input",{id:"file-upload",type:"file",accept:"image/*",onChange:e=>{const a=e.target.files?.[0];a&&t(a)},className:"hidden"}))}function Ft(){return Ft=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Ft.apply(null,arguments)}const Tt=B.z.object({comment:B.z.string().max(255),terms:B.z.boolean().refine((e=>!0===e),{message:"Vous devez accepter les r√®gles du concours"})});function Vt(e){let{contestId:t,isOpen:a,setIsOpen:n,settlementUrl:l,setMyParticipation:s,participations:c,setParticipations:i,increaseTotalParticipations:m}=e;const u=(0,r.useRef)(null),[p,f]=(0,r.useState)(),[g,x]=(0,r.useState)(""),[b,E]=(0,r.useState)(!1),[v,w]=(0,r.useState)(!1),[y,N]=(0,r.useState)(),{watch:k,reset:O,register:C,handleSubmit:S,formState:{errors:P}}=(0,H.mN)({resolver:(0,K.u)(Tt)});(0,r.useEffect)((()=>{O(),x(""),N(void 0),w(!1),E(!1)}),[a]);const R=k("comment");return r.createElement(ve,{open:a,onOpenChange:n},r.createElement(ye,{className:"md:w-[60vw] md:max-w-[800px]"},r.createElement(Ne,null,r.createElement(ke,null,"Nouvelle participation"),r.createElement(Oe,null,"Vous pouvez participer au concours avec une photo de votre choix.")),r.createElement("div",{className:"grid grid-cols-1 md:grid-cols-10 auto-rows-auto gap-5"},r.createElement("div",{className:"md:col-span-4 flex flex-col gap-4 justify-center items-center"},r.createElement("div",{className:"w-full max-w-[400px] flex flex-col gap-4"},b&&r.createElement("div",{className:"h-32 md:h-56 flex flex-col gap-2 justify-center items-center border border-border shadow p-4 mx-3 md:mx-auto  rounded-md"},r.createElement("p",null,"V√©rification de l'image"),G({icon:Z.A,className:"w-7 h-7 animate-spin text-primary"})),!b&&!g&&r.createElement($t,{onFileChange:async e=>{if(e){f(void 0);try{E(!0);const a=new FormData;a.append("file",e,e.name);const{data:r}=await h(`v1/participation/check-image/${t}`,a,{"Content-Type":"multipart/form-data"}),n=new Image;n.src="data:application/octet-stream;base64,"+r,n.onload=function(){x(n.src)},n.onerror=()=>{x(""),o.oR.error("Une erreur est survenue lors de la v√©rification de l'image")}}catch(e){console.error(e),o.oR.error("Une erreur est survenue lors de la v√©rification de l'image")}finally{E(!1)}}else x("")}}),!b&&!!g&&r.createElement("div",{className:"flex flex-col gap-2 justify-center items-center border border-border shadow pb-2 mx-3 md:mx-auto rounded-md"},r.createElement(Mt.Ay,{crop:p,onChange:(e,t)=>f(t),onComplete:e=>N(e),aspect:1,minHeight:100,className:"w-fit h-auto mx-auto mt-4 md:mt-0"},r.createElement("img",{ref:u,alt:"Crop me",src:g,className:"w-full h-full object-contain !max-h-[30vh] md:!max-w-[400px] md:!max-h-[400px]",onLoad:e=>{const{width:t,height:a}=e.currentTarget;var r,n;f((r=t,n=a,(0,Mt.ge)((0,Mt.dS)({unit:"%",width:90},1,r,n),r,n)))}})),r.createElement(j,{onClick:()=>x(""),variant:"outline",className:"w-fit gap-2"},"Changer d'image",G({icon:W.A,className:"w-5 h-5"}))))),r.createElement("form",{className:"bg-white md:col-span-6 flex flex-col justify-around items-center gap-2 md:border border-border md:shadow p-3 md:p-5 rounded-md",onSubmit:S((async()=>{const e=await(async()=>{const e=document.createElement("canvas"),t=e.getContext("2d");if(!y)return console.error("No crop selected"),null;if(!u.current)return console.error("No image loaded"),null;if(!t)return console.error("Failed to get canvas context"),null;const a=u.current.naturalWidth/u.current.width,r=u.current.naturalHeight/u.current.height,n=window.devicePixelRatio;e.width=Math.floor(y.width*a*n),e.height=Math.floor(y.height*r*n),t.scale(n,n),t.imageSmoothingQuality="high";const l=y.x*a,s=y.y*r;return t.drawImage(u.current,l,s,y.width*a,y.height*r,0,0,y.width*a,y.height*r),new Promise((t=>{e.toBlob((e=>{t(e)}),"image/webp")}))})();if(e)try{w(!0);const a=new FormData;a.append("file",e,"image.webp");const{data:r,status:l}=await h(`v1/participation/upload-image/${t}`,a,{"Content-Type":"multipart/form-data"});if(200!==l&&201!==l)throw o.oR.error("Une erreur est survenue lors du t√©l√©chargement de votre image"),new Error("Failed to upload image");const{data:d}=await h(`v1/participation/${t}`,{imageUrl:r.Key,description:R});if(!d)return void o.oR.error("Une erreur est survenue lors de la participation");s(d),i([...c,d]),m(),o.oR.success("Participation ajout√©e avec succ√®s !"),n(!1)}catch(e){console.error(e)}finally{w(!1)}else o.oR.error("Ajoutez une image et s√©lectionnez la zone de recadrage.")}))},r.createElement("div",{className:"w-full flex flex-col gap-2 md:my-4"},r.createElement(ft,Ft({placeholder:"Ajouter une description (facultatif)",maxLength:200,className:"max-h-40"},C("comment"))),r.createElement("p",{className:"text-sm text-muted-foreground ml-auto"},R?.length||0," / 200")),r.createElement("div",{className:"flex items-center justify-center gap-2"},r.createElement("input",Ft({type:"checkbox",id:"terms"},C("terms"),{className:d("peer",P.terms&&"border-destructive text-destructive")})),r.createElement("label",{htmlFor:"terms",className:d("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",P.terms&&"text-destructive")},"J'ai lu et j'accepte"," ",r.createElement("a",{href:l,target:"_blank",className:"underline",rel:"noreferrer"},"les r√®gles du concours"),".")),r.createElement(j,{type:"submit",className:"mt-4 w-full gap-2",disabled:v},"Participer au concours"," ",G({icon:v?Z.A:ut.A,className:"w-5 h-5 "+(v?"animate-spin":"")}))))))}var qt=a(75779),Dt=a(78541),Bt=a(73072),Ht=a(3118),Zt=a(21749),Jt=a(26777),Kt=a(11813),Wt=a(32892);function Yt(){return Yt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Yt.apply(null,arguments)}const Qt=Jt.bL,Gt=(Jt.YJ,Jt.WT),Xt=r.forwardRef(((e,t)=>{let{className:a,children:n,...l}=e;return r.createElement(Jt.l9,Yt({ref:t,className:d("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a)},l),n,r.createElement(Jt.In,{asChild:!0},G({icon:Kt.A,className:"h-4 w-4 opacity-50"})))}));Xt.displayName=Jt.l9.displayName;const ea=r.forwardRef(((e,t)=>{let{className:a,...n}=e;return r.createElement(Jt.PP,Yt({ref:t,className:d("flex cursor-default items-center justify-center py-1",a)},n),G({icon:Wt.A,className:"h-4 w-4"}))}));ea.displayName=Jt.PP.displayName;const ta=r.forwardRef(((e,t)=>{let{className:a,...n}=e;return r.createElement(Jt.wn,Yt({ref:t,className:d("flex cursor-default items-center justify-center py-1",a)},n),G({icon:Kt.A,className:"h-4 w-4"}))}));ta.displayName=Jt.wn.displayName;const aa=r.forwardRef(((e,t)=>{let{className:a,children:n,position:l="popper",...s}=e;return r.createElement(Jt.ZL,null,r.createElement(Jt.UC,Yt({ref:t,className:d("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===l&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:l},s),r.createElement(ea,null),r.createElement(Jt.LM,{className:d("p-1","popper"===l&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]")},n),r.createElement(ta,null)))}));aa.displayName=Jt.UC.displayName,r.forwardRef(((e,t)=>{let{className:a,...n}=e;return r.createElement(Jt.JU,Yt({ref:t,className:d("py-1.5 pl-8 pr-2 text-sm font-semibold",a)},n))})).displayName=Jt.JU.displayName;const ra=r.forwardRef(((e,t)=>{let{className:a,children:n,...l}=e;return r.createElement(Jt.q7,Yt({ref:t,className:d("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 hover:bg-primary/10",a)},l),r.createElement("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center"},r.createElement(Jt.VF,null,G({icon:ut.A,className:"h-4 w-4"}))),r.createElement(Jt.p4,null,n))}));ra.displayName=Jt.q7.displayName,r.forwardRef(((e,t)=>{let{className:a,...n}=e;return r.createElement(Jt.wv,Yt({ref:t,className:d("-mx-1 my-1 h-px bg-muted",a)},n))})).displayName=Jt.wv.displayName;const na=["Contenu inappropri√©","Publicit√© ou spam","Discours haineux","Usurpation d‚Äôidentit√©","Autre"];function la(e){let{pseudo:t,_id:a}=e;const[n,l]=(0,r.useState)(!1),[s,c]=(0,r.useState)(null),[i,m]=(0,r.useState)(null),[d,p]=(0,r.useState)(!1),[f,g]=(0,r.useState)(!1),[x,b]=(0,r.useState)(!1),E=(0,r.useRef)(null);return(0,r.useEffect)((()=>{n||(c(null),m(null),p(!1),b(!1),g(!1))}),[n]),(0,r.useEffect)((()=>{s?("Autre"===s&&E.current?.focus(),na.includes(s)&&"Autre"!==s?p(!0):p(!("Autre"!==s||!i))):p(!1)}),[s,i]),r.createElement(ve,{open:n,onOpenChange:l},r.createElement(U,null,r.createElement(I,{className:"ml-auto",asChild:!0},r.createElement(we,{variant:"ghost-destructive",className:"w-10 h-10 p-0 text-black hover:text-destructive transition-all duration-300"},G({icon:Zt.A,fill:"black",className:"w-6 h-6 "}))),r.createElement(M,{className:"bg-white text-black"},r.createElement("p",null,"Signaler"))),r.createElement(ye,null,r.createElement(Ne,null,r.createElement(ke,null,"Signaler"),r.createElement(Oe,null,"Vous √™tes sur le point de signaler la participation de"," ",r.createElement("strong",null,t),".")),r.createElement("div",{className:"flex flex-col gap-4"},r.createElement("p",null,"S√©lectionnez le motif de votre signalement :"),r.createElement(Qt,{onValueChange:e=>c(e)},r.createElement(Xt,null,r.createElement(Gt,{placeholder:"Motif"})),r.createElement(aa,null,na.map((e=>r.createElement(ra,{key:e,value:e,className:"font-normal text-md"},e))))),"Autre"===s&&r.createElement("div",{className:"flex flex-col gap-2 z-[55]"},r.createElement(ft,{ref:E,className:"max-h-40",onChange:e=>m(e.target.value),placeholder:"Ajoutez un commentaire",maxLength:255},i),r.createElement("p",{className:"text-sm text-muted-foreground ml-auto"},i?.length||0," / 255"))),r.createElement(je,null,r.createElement(j,{onClick:()=>l(!1),variant:"outline"},"Annuler"),r.createElement(j,{onClick:async()=>{if(d&&!f){g(!0);try{await h(`v1/participation/flag/${a}`,{description:"Autre"===s?i:s}),o.oR.success("Signalement envoy√© avec succ√®s !",{description:"Merci pour votre contribution √† l'√©quit√© du concours."}),l(!1)}catch(e){e instanceof u.pe?o.oR.error(e.response?.data.message||"Une erreur est survenue"):(console.error(e),o.oR.error("Une erreur est survenue lors du signalement."))}finally{g(!1)}}},disabled:!d||f||x,variant:"destructive",className:"flex items-center gap-2"},x?"Signalement envoy√©":"Signaler",G({icon:x?ut.A:f?Z.A:Zt.A,className:"size-4 "+(f?"animate-spin":"")})))))}function sa(e){let{objectId:t,image:a,name:n,url:l,type:s="share",isRounded:c=!1,setReportOpen:i}=e;return r.createElement(U,null,r.createElement(I,{className:"report"===s?"ml-auto":"",asChild:!0},r.createElement(j,{variant:"report"===s?"ghost-destructive":"ghost",className:d("w-10 h-10 p-0","report"===s&&"text-black hover:text-destructive transition-all duration-300"),onClick:async()=>{"report"===s&&i?i(!0):("share"===s?window.open(l,"_blank"):"copy"===s&&(navigator.clipboard.writeText(l),o.oR.success("Lien copi√© avec succ√®s !")),h("v1/activity/final-user",{objectId:t,platform:"copy"===s?"clipboard":n?.toLowerCase()||"unknown",action:"contest-sharing"}).catch((e=>{console.error(e)})))}},"string"==typeof a?r.createElement("img",{src:a,alt:n||s,className:d("w-6 h-6",c?"rounded-full":"rounded-md")}):G({icon:a,fill:"black",className:"w-6 h-6 "}))),r.createElement(M,{className:"bg-white text-black"},"share"===s?r.createElement("p",null,"Partager sur ",r.createElement("strong",null,n)):"copy"===s?r.createElement("p",null,"Copier le lien"):"report"===s&&r.createElement("p",null,"Signaler")))}var oa=a(64184),ca=a(66822);function ia(e){let{open:t,setOpen:a,contestId:n,setMyParticipation:l,setEditModal:s,participations:c,setParticipations:i,decreaseTotalParticipations:m}=e;const{user:d}=E(),[u,g]=(0,r.useState)(!1);return r.createElement(ve,{open:t,onOpenChange:e=>{a(e),s(!e)}},r.createElement(ye,{className:"md:max-w-sm"},r.createElement(Ne,null,r.createElement(ke,null,"Suppression de la participation"),r.createElement(Oe,null,"Vous √™tes sur le point de supprimer votre participation. Cette action est ",r.createElement("strong",null,"irr√©versible"),".")),r.createElement(je,null,r.createElement(j,{type:"button",variant:"outline",onClick:()=>{a(!1),s(!0)},disabled:u,className:"gap-2"},"Annuler"),r.createElement(j,{variant:"destructive",onClick:async()=>{if(!u){g(!0);try{await(async e=>await p.A.delete(f+e))(`v1/participation/${n}`),l?.(null),o.oR.success("Votre participation a bien √©t√© supprim√©e."),i(c.filter((e=>e.pseudo!==d?.pseudo))),a(!1),s(!1),m()}catch(e){e instanceof Error?"Not found"===e.message&&(o.oR.error("Cette participation n'existe pas."),a(!1),s(!0)):(console.error(e),o.oR.error("Une erreur est survenue lors de la suppression."))}finally{g(!1)}}},disabled:u,className:"gap-2"},"Supprimer",G({icon:u?Z.A:ca.A,className:"w-5 h-5 "+(u?"animate-spin":"")})))))}function ma(){return ma=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},ma.apply(null,arguments)}const da=B.z.object({comment:B.z.string().max(200,"La description ne peut pas faire plus de 200 caract√®res.")});function ua(e){let{part:t,contestId:a,contestEnded:n,setMyParticipation:l,participations:s,setParticipations:c,decreaseTotalParticipations:i}=e;const[m,d]=(0,r.useState)(!1),[u,g]=(0,r.useState)(!1),[h,x]=(0,r.useState)(!1),{watch:b,register:E,handleSubmit:v,reset:w,formState:{errors:y}}=(0,H.mN)({resolver:(0,K.u)(da),defaultValues:{comment:t.description||""}}),N=b("comment");return(0,r.useEffect)((()=>{u||(d(!1),w())}),[u]),r.createElement(r.Fragment,null,r.createElement(ve,{open:u,onOpenChange:g},r.createElement(we,{className:"gap-2 w-full rounded-full",disabled:m||n},n?"Termin√©":r.createElement(r.Fragment,null,"Modifier ",G({icon:oa.A,className:"w-5 h-5"}))),r.createElement(ye,{className:"md:max-w-sm"},r.createElement(Ne,null,r.createElement(ke,null,"Modifier la participation"),r.createElement(Oe,null,"Vous pouvez ",r.createElement("strong",null,"supprimer")," ou"," ",r.createElement("strong",null,"modifier la description")," de votre participation √† tout moment.")),r.createElement("form",{className:"flex flex-col items-center gap-2 ",onSubmit:v((async()=>{if(!m){d(!0);try{await(async(e,t)=>await p.A.patch(f+e,t))(`v1/participation/${a}`,{description:N}),l?.({...t,description:N}),o.oR.success("Participation modifi√©e avec succ√®s"),c(s.map((e=>e._id===t._id?{...e,description:N}:e))),g(!1)}catch(e){e instanceof Error?"Not found"===e.message&&(o.oR.error("Cette participation n'existe pas."),g(!1)):(console.error(e),o.oR.error("Une erreur est survenue lors de la modification."))}finally{d(!1)}}}))},r.createElement("div",{className:"w-full flex flex-col gap-2 my-4"},r.createElement(ft,ma({placeholder:"Ajouter une description (facultatif)",maxLength:200,className:"max-h-40"},E("comment"))),r.createElement("p",{className:"text-sm text-muted-foreground ml-auto"},N?.length||0," / 200"),y.comment&&r.createElement("p",{className:"text-sm text-destructive text-center"},y.comment.message)),r.createElement(j,{type:"button",variant:"destructive",className:"w-full gap-2",onClick:()=>{g(!1),x(!0)}},"Supprimer la participation",G({icon:ca.A,className:"w-5 h-5"})),r.createElement(j,{type:"submit",className:"mt-4 w-full gap-2",disabled:m},"Modifier la participation"," ",G({icon:m?Z.A:oa.A,className:"w-5 h-5 "+(m?"animate-spin":"")}))))),r.createElement(ia,{open:h,setOpen:x,contestId:a,setMyParticipation:l,setEditModal:g,participations:s,setParticipations:c,decreaseTotalParticipations:i}))}function pa(e){let{part:t,contestEnded:a,votedToday:n=!1,isMyParticipation:l=!1,contestId:s,setMyParticipation:c,participations:i,setParticipations:m,decreaseTotalParticipations:p}=e;const f=xt(),[g,x]=(0,r.useState)(!1),[b,E]=(0,r.useState)(!1),v=`${window.location.href.replace(/\?.*$/,"")}?ctst-u=${t.pseudo}`,w=encodeURIComponent(v),y=!1===t.isActive&&!!t.moderationStatus,N=t.liked||!0===n||g||a||y;return r.createElement("div",{className:d("bg-white my-5 md:my-0 mx-auto grid grid-cols-1 md:grid-cols-2 gap-5 items-center auto-rows-auto after:content-none max-w-full md:max-w-[800px]",l&&"border border-border rounded-xl py-5 px-7 drop-shadow",y&&"relative")},r.createElement("img",{src:t.presignedUrl||"",alt:t.pseudo||"Image",className:d("mx-auto w-2/3 md:w-full h-auto aspect-square rounded-xl shadow-xl","transition-transform duration-300 hover:scale-105")}),r.createElement("div",{className:"w-full h-full px-4 flex flex-col justify-between"},r.createElement("p",{className:"font-medium text-lg text-center"},l?"Ma participation : ":"Participation de ",r.createElement("span",{className:"font-bold"},t.pseudo||"")),r.createElement("p",{className:"text-muted-foreground text-sm text-center p-4 border border-border/60 rounded-md my-5 break-words"},t.description||r.createElement("span",{className:"italic"},"Aucune description ajout√©e.")),r.createElement("div",{className:"my-5 mx-auto w-2/3 flex flex-col gap-5 items-center justify-between"},r.createElement("div",{className:"w-full flex flex-row gap-1 items-center justify-between"},r.createElement("div",{className:"flex flex-row gap-2 items-center"},G({icon:qt.A,filledRed:t.liked||l,className:`w-5 h-5 ${(t.liked||l)&&"text-red-500"}`}),t.likes||0),r.createElement("div",{className:"flex flex-row gap-2 items-center"},t.rank||0," ",1===t.rank?"er":"√®me",G({icon:1===t.rank?Dt.A:Bt.A,className:"w-5 h-5 "+(1===t.rank?"text-yellow-400":"text-muted-foreground")}))),l&&s&&!y?r.createElement(ua,{contestId:s,part:t,setMyParticipation:c,contestEnded:a,participations:i,setParticipations:m,decreaseTotalParticipations:p}):r.createElement(j,{className:"w-full rounded-full gap-2 relative",disabled:N||g,onClick:()=>{f()||(async()=>{x(!0);try{await h(`v1/participation/like/${t._id}`,{}),t.likes=t.likes+1,t.liked=!0,o.oR.success("Vote ajout√© avec succ√®s !"),E(!0)}catch(e){e instanceof u.pe?o.oR.error(e.response?.data.message||"Une erreur est survenue"):(console.error(e),o.oR.error("Une erreur est survenue lors de l'ajout du vote."))}finally{x(!1)}})()}},t.liked?"Vote ajout√©":n?"D√©j√† vot√© aujourd'hui":a?"Termin√©":"Voter",b&&r.createElement("div",{className:"absolute top-0 left-0 w-full h-10 flex items-center justify-center"},r.createElement(Ve.A,{zIndex:50,force:.4,particleCount:30,width:300,onComplete:()=>E(!1)})),G({icon:g?Z.A:qt.A,fill:"white",className:`w-5 h-5 text-white ${!1===N&&"animate-hi-there"} ${g&&"animate-spin"}`}))),r.createElement("footer",null,r.createElement("div",null,r.createElement("p",{className:"w-full font-light text-sm text-muted-foreground"},"Partager sur :"),r.createElement("div",null,r.createElement("div",{className:"flex flex-row gap-2 items-center"},sa({objectId:t._id,image:"/skin/frontend/base/default/reactjs-app/images/facebook.png",name:"Facebook",url:`https://www.facebook.com/sharer/sharer.php?u=${w}`,type:"share"}),sa({objectId:t._id,image:"/skin/frontend/base/default/reactjs-app/images/twitter.webp",name:"Twitter",url:`https://twitter.com/intent/tweet?url=${w}`,type:"share",isRounded:!0}),sa({objectId:t._id,image:"/skin/frontend/base/default/reactjs-app/images/messenger.png",name:"Messenger",url:`https://www.messenger.com/send?text=${w}`,type:"share"}),sa({objectId:t._id,image:Ht.A,url:v,type:"copy"}),!l&&!a&&r.createElement(la,{pseudo:t.pseudo,_id:t._id})))))),y&&r.createElement("div",{className:"absolute inset-0 bg-white/80 z-50 flex items-center justify-center rounded-xl backdrop-blur"},r.createElement("div",{className:"bg-white border rounded-xl shadow w-3/4 p-5"},r.createElement("h1",{className:"text-xl font-bold mb-2"},"Mod√©ration"),r.createElement("p",null,"Cette participation est en cours de mod√©ration ou a √©t√© supprim√©e."),r.createElement("p",{className:"mt-4 border p-2 rounded-xl w-full text-center"},t.moderationStatus))))}function fa(){return r.createElement("div",{className:"flex flex-col items-start justify-center w-full border border-primary/80 rounded-xl p-4 mb-5 shadow-md shadow-primary/20"},r.createElement("h1",{className:"text-xl text-black font-semibold flex items-center gap-2 mb-2"},"Concours termin√©",G({icon:Dt.A,className:"w-4 h-4"})),r.createElement("p",{className:"text-sm text-gray-500"},"Le concours est termin√©. Vous ne pouvez plus voter ni modifier votre participation mais vous pouvez toujours voir les participations."))}function ga(e){let{part:t,onItemClick:a}=e;return r.createElement(Ot,{onClick:()=>a(t),className:d("border-border/30 cursor-pointer overflow-hidden rounded-xl shadow-none drop-shadow","hover:drop-shadow-lg hover:border-border transition-all duration-300")},r.createElement(Ct,{className:"pt-3 md:pt-5 relative"},r.createElement("div",{className:"overflow-hidden rounded-md"},r.createElement("img",{src:t.presignedUrl||"",alt:t.pseudo||"Image",className:d("w-full h-auto aspect-square rounded-md shadow","transition-transform duration-300 hover:scale-110")}),t.rank<4&&r.createElement("span",{className:"absolute top-2 md:top-4 right-2 md:right-4 bg-primary text-white px-4 py-1 rounded-full text-sm font-semibold"},t.rank,1===t.rank?"er":" √®me"))),r.createElement(St,{className:"flex flex-col gap-0 pt-0"},r.createElement("div",{className:"w-full flex flex-row gap-2 justify-between items-center"},r.createElement("p",{className:"font-medium text-md truncate flex-grow"},t.pseudo||""),r.createElement("div",{className:"flex flex-row gap-1 items-center flex-shrink-0"},G({icon:qt.A,fill:t.liked?"red-500":"transparent",filledRed:t.liked,className:`w-5 h-5 ${t.liked&&"text-red-500"}`}),t.likes||0)),r.createElement("p",{className:"w-full h-6 line-clamp-1 break-all text-ellipsis font-medium text-md text-muted-foreground"},t.description||"")))}const ha=r.memo((e=>{let{participations:t,onItemClick:a}=e;return r.createElement(r.Fragment,null,t.map((e=>r.createElement(ga,{key:e._id,part:e,onItemClick:a}))))}));ha.displayName="PartsList";const xa=ha;function ba(){return ba=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},ba.apply(null,arguments)}function Ea(e){let{contestsLoading:t,contestEnded:a,myParticipation:n,setMyParticipation:s}=e;const o=xt(),{user:c,contestsContent:i}=E(),[m]=(0,l.ok)(),d=(0,r.useRef)(m.get("ctst-q")),u=(0,r.useRef)(m.get("ctst-u")),p=(0,r.useRef)(1),f=(0,r.useRef)("desc"),h=(0,r.useRef)("likes"),[x,b]=(0,r.useState)(u.current?u.current:d.current||""),[v,w]=(0,r.useState)(!1),[y,N]=(0,r.useState)(!0),[k,O]=(0,r.useState)(null),[C,S]=(0,r.useState)(!1),[P,R]=(0,r.useState)([]),[_,A]=(0,r.useState)({limit:0,page:0,totalPages:0,totalParticipations:0});(0,r.useEffect)((()=>{I()}),[i]),(0,r.useEffect)((()=>{u.current=m.get("ctst-u"),m.get("ctst-u")&&(O(null),S(!0))}),[m.get("ctst-u")]),(0,r.useEffect)((()=>{if(!y)if(d.current=x,x.length>0){const e=new URL(window.location.href);e.searchParams.set("ctst-q",x),window.history.pushState({path:e.href},"",e.href)}else L()}),[x]),(0,r.useEffect)((()=>{if(C&&k){const e=new URL(window.location.href);e.searchParams.set("ctst-u",k?.pseudo),window.history.replaceState({path:e.href},"",e.href)}else{const e=new URL(window.location.href);e.searchParams.delete("ctst-u"),window.history.replaceState({path:e.href},"",e.href)}}),[C,k]);const L=()=>{const e=new URL(window.location.href);e.searchParams.delete("ctst-q"),e.searchParams.delete("ctst-u"),window.history.pushState({path:e.href},"",e.href)},z=async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];N(!0),p.current=1,R([]);const t=await U(i?.contest?.slug||"",e);R(t||[])},U=async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return[];N(!0);try{const{data:a}=await g(`v1/contests/${e}/${h.current}/${f.current}/${p.current}?search=${t?"":x}`);return A({limit:a.limit||0,page:a.page||0,totalPages:a.totalPages||0,totalParticipations:a.totalParticipations||0}),x.length>0&&x===u.current&&O(a.participations[0]||null),a.participations||[]}catch(e){console.error("Erreur de fetch:",e)}finally{N(!1)}},I=async()=>{if(!i?.contest?.slug)return;const e=(await U(i?.contest?.slug||"")).filter((e=>!P.some((t=>t._id===e._id))));R([...P,...e]||[])},M=()=>{A((e=>({...e,totalParticipations:e.totalParticipations-1})))};return r.createElement(r.Fragment,null,t&&r.createElement("div",{className:"w-full flex flex-col gap-20 my-20"},r.createElement(tt,{withoutImage:!0,withoutButton:!0})),!t&&i?.contest&&r.createElement("div",{className:"w-full flex flex-col gap-20 mb-10"},r.createElement(lt,ba({},a&&{badge:"Termin√©"},{type:i.contest.type,title:i.contest.name,description:i.contest.description,button:t||y||n||a?void 0:i.contest.buttonParticipate,onClick:()=>{o()||w(!0)}}))),a&&r.createElement(fa,null),n&&r.createElement("div",{className:"mb-5"},r.createElement(pa,{isMyParticipation:!0,part:n,setMyParticipation:s,contestEnded:a,contestId:i?.contest?._id||void 0,participations:P,setParticipations:R,decreaseTotalParticipations:M})),r.createElement(Vt,{contestId:i?.contest?._id||"",settlementUrl:i?.contest?.settlement||"",isOpen:v,setIsOpen:w,setMyParticipation:s,participations:P,setParticipations:R,increaseTotalParticipations:()=>{A((e=>({...e,totalParticipations:e.totalParticipations+1})))}}),r.createElement(zt,{loading:y,participations:P,totalParticipations:_.totalParticipations,search:x,setSearch:e=>{b(e)},changeSort:z,sort:f,sortBy:h,setSort:e=>{f.current=e},setSortBy:e=>{h.current=e},resetSearch:()=>{b(""),L(),d.current="",u.current="",z(!0)}}),r.createElement("div",{className:"w-full grid grid-cols-2 md:grid-cols-3 gap-3 md:gap-10 after:content-none"},y&&0===P?.length?r.createElement(r.Fragment,null,r.createElement(Ut,null),r.createElement(Ut,null),r.createElement(Ut,null),r.createElement(Ut,null),r.createElement(Ut,null),r.createElement(Ut,null)):r.createElement(xa,{participations:P,onItemClick:e=>{O(e),S(!0)}}),r.createElement(ve,{open:C,onOpenChange:S},r.createElement(ye,{className:"max-w-[700px]"},r.createElement(Ne,{className:"hidden"},r.createElement(ke,null,"Participation de ",k?.pseudo||"nc"),r.createElement(Oe,null,k?.description||"Aucune description")),k?r.createElement(pa,{part:k,votedToday:i?.votedToday||!1,contestEnded:a,participations:P,setParticipations:R,decreaseTotalParticipations:M}):y?r.createElement("div",{className:"flex items-center justify-center w-full h-40"},G({icon:Z.A,className:"size-10 text-primary animate-spin"})):r.createElement("p",null,"Cette participation n'existe pas."))),y||0!==P?.length?null:x.length>0?r.createElement(It,null):r.createElement(Pt,null),y&&r.createElement(r.Fragment,null,[...Array(_.limit||3)].map(((e,t)=>r.createElement(Ut,{key:t}))))),_.totalPages>1&&p.current<_.totalPages&&r.createElement(j,{variant:"ghost",disabled:y,onClick:()=>{o()||(p.current+=1,I())},className:"flex items-center gap-2 mt-10"},c?.firstName?"Voir plus":"Connectez-vous pour en voir plus",G(y?{icon:Z.A,className:"size-5 animate-spin"}:{icon:jt.A,className:"size-5"})))}const va=function(){const{contestsLoading:e,setContestsLoading:t,contestsContent:a,setContestsContent:n}=E(),[l,s]=(0,r.useState)(!1),[o,i]=(0,r.useState)(!1),[m,d]=(0,r.useState)(null);(0,r.useEffect)((()=>{u()}),[]);const u=async()=>{try{const{data:e}=await g("v1/contests/metadatas");n(e),d(e.myParticipation),e.contest.name?s(!1):(s(!0),i(!!a?.contest?.ended))}catch(e){console.error("Erreur de fetch:",e)}finally{t(!1)}};return r.createElement("section",{className:"flex flex-col items-center justify-center"},r.createElement(c.mg,null,r.createElement("meta",{property:"og:title",content:`Concours ${a?.contest?.name}`}),r.createElement("meta",{property:"og:description",content:a?.contest?.description}),r.createElement("meta",{property:"og:image",content:a?.banner?.presignedUrl})),!e&&l?r.createElement(Nt,null):r.createElement(Ea,{contestsLoading:e,contestEnded:o,myParticipation:m,setMyParticipation:d}))},wa=function(){const e=window.location.href.includes("contestio")?"/index.php/contestio":"/";return r.createElement(l.Kd,{basename:e},r.createElement(b,null,r.createElement(o.l$,null),r.createElement(c.vd,null,r.createElement(z,null,r.createElement(Je,null,r.createElement(Ye,null,r.createElement(s.BV,null,r.createElement(s.qh,{element:r.createElement(Qe,null)},r.createElement(s.qh,{path:"/contests",element:r.createElement(va,null)}),r.createElement(s.qh,{path:"/surveys",element:r.createElement(Et,null)}),r.createElement(s.qh,{path:"/profile",element:r.createElement(yt,null)}),r.createElement(s.qh,{path:"/news",element:r.createElement(ct,null)}),r.createElement(s.qh,{path:"/",element:r.createElement(at,null)}),r.createElement(s.qh,{path:"/error",element:r.createElement(it,null)})))))))))};n.createRoot(document.getElementById("root")).render(r.createElement(r.StrictMode,null,r.createElement(wa,null)))}},n={};function l(e){var t=n[e];if(void 0!==t)return t.exports;var a=n[e]={id:e,loaded:!1,exports:{}};return r[e].call(a.exports,a,a.exports,l),a.loaded=!0,a.exports}l.m=r,e=[],l.O=(t,a,r,n)=>{if(!a){var s=1/0;for(m=0;m<e.length;m++){a=e[m][0],r=e[m][1],n=e[m][2];for(var o=!0,c=0;c<a.length;c++)(!1&n||s>=n)&&Object.keys(l.O).every((e=>l.O[e](a[c])))?a.splice(c--,1):(o=!1,n<s&&(s=n));if(o){e.splice(m--,1);var i=r();void 0!==i&&(t=i)}}return t}n=n||0;for(var m=e.length;m>0&&e[m-1][2]>n;m--)e[m]=e[m-1];e[m]=[a,r,n]},l.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return l.d(t,{a:t}),t},a=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,l.t=function(e,r){if(1&r&&(e=this(e)),8&r)return e;if("object"==typeof e&&e){if(4&r&&e.__esModule)return e;if(16&r&&"function"==typeof e.then)return e}var n=Object.create(null);l.r(n);var s={};t=t||[null,a({}),a([]),a(a)];for(var o=2&r&&e;"object"==typeof o&&!~t.indexOf(o);o=a(o))Object.getOwnPropertyNames(o).forEach((t=>s[t]=()=>e[t]));return s.default=()=>e,l.d(n,s),n},l.d=(e,t)=>{for(var a in t)l.o(t,a)&&!l.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},l.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),l.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),l.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e={792:0};l.O.j=t=>0===e[t];var t=(t,a)=>{var r,n,s=a[0],o=a[1],c=a[2],i=0;if(s.some((t=>0!==e[t]))){for(r in o)l.o(o,r)&&(l.m[r]=o[r]);if(c)var m=c(l)}for(t&&t(a);i<s.length;i++)n=s[i],l.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return l.O(m)},a=self.webpackChunkcontestio=self.webpackChunkcontestio||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})(),l.nc=void 0,l.O(void 0,[96],(()=>l(84315))),l.O(void 0,[96],(()=>l(7452)));var s=l.O(void 0,[96],(()=>l(2376)));s=l.O(s)})();