(()=>{"use strict";var e,t,n,r={512:(e,t,n)=>{var r=n(540),a=n(338),c=n(976),l=n(767),o=n(721),s=n(164),i=n(856);function u(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,i.QP)((0,s.$)(t))}var m=n(824);function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d.apply(null,arguments)}const f=(0,n(478).F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),p=r.forwardRef(((e,t)=>{let{className:n,variant:a,size:c,asChild:l=!1,...o}=e;const s=l?m.DX:"button";return r.createElement(s,d({className:u(f({variant:a,size:c,className:n})),ref:t},o))}));p.displayName="Button";const v=function(e){let{variant:t="default",className:n="",onClick:r,text:a,id:c}=e;return React.createElement(p,{id:c,variant:t,onClick:r,className:u("text-white bg-primary border-2 border-primary rounded-lg shadow-md transition-all duration-300 text-center font-bold","hover:scale-95 hover:shadow-lg","active:scale-90 active:shadow-sm",n)},a)},h=function(e){let{datas:t,onClick:n,className:r}=e;return React.createElement(React.Fragment,null,React.createElement("style",null,t.styles&&`\n          #${t.slug} {\n            ${t.styles}\n          }\n        `,t.hover&&`\n          #${t.slug}:hover {\n            ${t.hover}\n          }\n        `,t.styles&&`\n          #${t.focus}:active {\n            ${t.focus}\n          }\n        `),React.createElement(v,{id:t.slug,text:t.text,onClick:n,className:r}))},g=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;window.location.href;const r=await fetch(`http://127.0.0.1/index.php/contestio/api/proxy?endpoint=${e}`,{method:t,headers:{"Content-Type":"application/json"},body:n?JSON.stringify(n):void 0});if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);return r.json()},b=(0,r.createContext)(void 0);function y(e){let{children:t}=e;const[n,a]=(0,r.useState)(!0),[c,l]=(0,r.useState)([]),[o,s]=(0,r.useState)(null),[i,u]=(0,r.useState)(0);(0,r.useEffect)((()=>{console.log("Context mounted"),m()}),[]);const m=async()=>{try{const e=await g("v1/org/header");l(e.buttons||[]),s(e.user||null)}catch(e){console.error(e)}finally{a(!1)}};return r.createElement(b.Provider,{value:{counter:i,setCounter:u,incrementCounter:()=>u(i+1),decrementCounter:()=>u(i-1),navButtons:c,user:o,appLoading:n}},t)}function E(){const e=(0,r.useContext)(b);if(void 0===e)throw new Error("useAppContext doit être utilisé à l'intérieur d'un AppProvider");return e}function R(){return R=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},R.apply(null,arguments)}function x(e){let{className:t,...n}=e;return React.createElement("div",R({className:u("animate-pulse rounded-md bg-muted",t)},n))}const w=function(){const{appLoading:e,user:t,navButtons:n}=E(),r=(0,l.Zp)();return React.createElement("header",{className:"w-full mx-auto mt-0 mb-10 flex justify-between items-center gap-5"},React.createElement("p",{id:"contestio-header-text"},t&&t.firstname?`Bonjour ${t.firstname}`:null),React.createElement("div",{className:"flex gap-5"},e&&React.createElement(React.Fragment,null,React.createElement(x,{className:"h-[38px] w-[72px] rounded-xl"}),React.createElement(x,{className:"h-[38px] w-[120px] rounded-xl"}),React.createElement(x,{className:"h-[38px] w-[120px] rounded-xl"})),n.map((e=>React.createElement(h,{key:e.slug,datas:e,onClick:()=>{return t=e.navUrl||"",void r("contest"===t?"/contests":"survey"===t?"/surveys":"/");var t}})))))},N=n.p+"images/logo.png";function O(){return O=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},O.apply(null,arguments)}const j=function(e){return React.createElement("a",O({className:u("text-muted-foreground border-b border-b-transparent no-underline","hover:no-underline hover:border-b-primary hover:text-primary transition-all duration-300",e.className)},e))},C=function(){const e=`https://contestio.fr/report-bug?url=${window.location.href}&version=0.1.0`;return React.createElement("footer",{className:"w-full my-0 flex justify-end items-center"},React.createElement("div",{className:"flex items-center gap-2 text-sm text-muted-foreground"},React.createElement(j,{href:e,target:"_blank"},"Signaler un bug"),React.createElement("span",{className:"border-b border-b-transparent"},"-"),React.createElement("span",{className:"font-light border-b border-b-transparent"},"Powered by"),React.createElement(j,{href:"https://contestio.fr",target:"_blank"},"Contestio"),React.createElement("img",{src:N,alt:"Contestio",height:20,width:20})))},k=function(){return React.createElement("div",{className:u("bg-white border border-border/30 shadow-md rounded-md","py-10 px-16 w-[94%] my-6 mx-auto box-border text-[16px] leading-6")},React.createElement(w,null),React.createElement("main",{className:"w-full my-4"},React.createElement(l.sv,null)),React.createElement(C,null))};var _=n(633);function S(){return S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},S.apply(null,arguments)}const P=r.forwardRef(((e,t)=>{let{className:n,orientation:a="horizontal",decorative:c=!0,...l}=e;return r.createElement(_.b,S({ref:t,decorative:c,orientation:a,className:u("shrink-0 bg-border","horizontal"===a?"h-[1px] w-full":"h-full w-[1px]",n)},l))}));function $(e){let{type:t,description:n,presignedUrl:r,button:a,className:c}=e;return React.createElement(React.Fragment,null,React.createElement("div",{className:u("w-full h-full grid grid-cols-12 auto-rows-auto gap-4 items-center bg-white",c)},React.createElement("div",{className:u(r?"col-span-8":"col-span-12")},React.createElement("div",{dangerouslySetInnerHTML:{__html:n}}),a&&React.createElement(h,{datas:a,className:"mt-4",onClick:()=>{window.location.href="homepage_contest"===t?"/contests":"homepage_survey"===t?"/surveys":""}})),r&&React.createElement("div",{className:"col-span-4"},React.createElement("img",{src:r,alt:"",className:"mx-auto w-5/6 h-auto object-cover rounded-xl shadow-md"}))),"homepage_header"===t&&React.createElement("div",{className:"col-span-12 w-3/5 mx-auto"},React.createElement(P,{className:"my-0 w-full"})))}function T(){return T=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},T.apply(null,arguments)}P.displayName=_.b.displayName;const z=["homepage_header","homepage_contest","homepage_survey"],B=function(){const[e,t]=(0,r.useState)(!1),[n,a]=(0,r.useState)([]),[c,l]=(0,r.useState)([]);(0,r.useEffect)((()=>{console.log("Home juste mounted"),o()}),[]);const o=async()=>{t(!0);try{const e=await g("v1/org/homepage");a(e.filter((e=>z.includes(e.type)))),l(e.filter((e=>"homepage_other"===e.type)))}catch(e){console.error("Erreur de fetch:",e)}finally{t(!1)}};return e?React.createElement("div",null,"Loading..."):React.createElement("header",{className:"min-h-screen flex flex-col items-center justify-center font-size-calc(10px + 2vmin)"},React.createElement("div",{className:"w-full flex flex-col gap-20 my-10"},n.map(((e,t)=>React.createElement($,T({key:t},e))))),c.length>0&&React.createElement("div",{className:"w-full flex flex-col gap-20 my-10"},React.createElement("h2",{className:"text-2xl font-semibold"},"Dernières actualités"),c.map(((e,t)=>React.createElement($,T({key:t},e))))))},H=function(){const{counter:e,incrementCounter:t}=E();return React.createElement("div",{className:"text-center"},React.createElement("header",{className:" min-h-screen flex flex-col items-center justify-center font-size-calc(10px + 2vmin)"},React.createElement("p",null,"Survey page ici"),React.createElement("div",null,React.createElement("p",null,"Counter: ",e),React.createElement(p,{variant:"default",onClick:t},"Increment")),React.createElement(p,{variant:"link"},React.createElement(c.N_,{to:"/"},"Revenir à l'accueil")),React.createElement(p,{variant:"default",onClick:()=>alert("Hello")},"Hello les surveys")))},F=function(){const{counter:e,incrementCounter:t}=E();return React.createElement("div",{className:"text-center"},React.createElement("header",{className:" min-h-screen flex flex-col items-center justify-center font-size-calc(10px + 2vmin)"},React.createElement("p",null,"Contest page ici"),React.createElement("div",null,React.createElement("p",null,"Counter: ",e),React.createElement(p,{variant:"default",onClick:t},"Increment")),React.createElement(p,{variant:"link"},React.createElement(c.N_,{to:"/"},"Revenir à l'accueil")),React.createElement(p,{variant:"default",onClick:()=>alert("Hello")},"Hello les concours")))},I=function(){const e=window.location.pathname;return React.createElement(y,null,React.createElement(o.l$,null),React.createElement(c.Kd,{basename:e},React.createElement(l.BV,null,React.createElement(l.qh,{element:React.createElement(k,null)},React.createElement(l.qh,{path:"/",element:React.createElement(B,null)}),React.createElement(l.qh,{path:"/contests",element:React.createElement(F,null)}),React.createElement(l.qh,{path:"/surveys",element:React.createElement(H,null)})))))};a.createRoot(document.getElementById("root")).render(r.createElement(r.StrictMode,null,r.createElement(I,null)))}},a={};function c(e){var t=a[e];if(void 0!==t)return t.exports;var n=a[e]={exports:{}};return r[e](n,n.exports,c),n.exports}c.m=r,e=[],c.O=(t,n,r,a)=>{if(!n){var l=1/0;for(u=0;u<e.length;u++){n=e[u][0],r=e[u][1],a=e[u][2];for(var o=!0,s=0;s<n.length;s++)(!1&a||l>=a)&&Object.keys(c.O).every((e=>c.O[e](n[s])))?n.splice(s--,1):(o=!1,a<l&&(l=a));if(o){e.splice(u--,1);var i=r();void 0!==i&&(t=i)}}return t}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[n,r,a]},n=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,c.t=function(e,r){if(1&r&&(e=this(e)),8&r)return e;if("object"==typeof e&&e){if(4&r&&e.__esModule)return e;if(16&r&&"function"==typeof e.then)return e}var a=Object.create(null);c.r(a);var l={};t=t||[null,n({}),n([]),n(n)];for(var o=2&r&&e;"object"==typeof o&&!~t.indexOf(o);o=n(o))Object.getOwnPropertyNames(o).forEach((t=>l[t]=()=>e[t]));return l.default=()=>e,c.d(a,l),a},c.d=(e,t)=>{for(var n in t)c.o(t,n)&&!c.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},c.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),c.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),c.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;c.g.importScripts&&(e=c.g.location+"");var t=c.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");if(n.length)for(var r=n.length-1;r>-1&&(!e||!/^http(s?):/.test(e));)e=n[r--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),c.p=e})(),(()=>{var e={792:0};c.O.j=t=>0===e[t];var t=(t,n)=>{var r,a,l=n[0],o=n[1],s=n[2],i=0;if(l.some((t=>0!==e[t]))){for(r in o)c.o(o,r)&&(c.m[r]=o[r]);if(s)var u=s(c)}for(t&&t(n);i<l.length;i++)a=l[i],c.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return c.O(u)},n=self.webpackChunkreactts_app=self.webpackChunkreactts_app||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var l=c.O(void 0,[96],(()=>c(512)));l=c.O(l)})();